<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="UTF-8" />
	<title>Tester API Utilisateurs</title>
</head>

<body>
	<h1>Tester les routes API Utilisateurs</h1>

	<h2>Formulaire Création Utilisateur (POST)</h2>
	<form id="createUserForm" method="post" action="/createUser/">
		<label>Nom : <input type="text" name="name" required /></label><br />
		<label>Email : <input type="email" name="email" required /></label><br />
		<button type="submit">Créer</button>
	</form>

	<h2>Afficher un utilisateur (GET)</h2>
	<form id="getUserForm">
		<label>ID : <input type="number" id="userId" required /></label>
		<button type="button" onclick="fetchUser()">Afficher</button>
	</form>
	<pre id="userResult"></pre>

	<h2>Modification utilisateur (PUT)</h2>
	<form method="post" action="/modifyUser/">
		<label>ID : <input type="number" name="id" required /></label><br />
		<label>Nouveau nom : <input type="text" name="name" /></label><br />
		<label>Nouvel email : <input type="email" name="email" /></label><br />
		<button type="submit">Modifier</button>
	</form>

	<script>
		async function fetchUser() {
			const userId = document.getElementById('userId').value;
			if (!userId) return;
			const response = await fetch('/user/' + userId);
			if (response.ok) {
				const user = await response.json();
				document.getElementById('userResult').textContent = JSON.stringify(user, null, 2);
			} else {
				document.getElementById('userResult').textContent = 'Erreur: ' + response.statusText;
			}
		}
	</script>
</body>

</html>
